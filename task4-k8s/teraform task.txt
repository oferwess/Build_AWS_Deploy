terraform

acessID:
AKIA42WJUBWK7TPNMBJH
Secret access key:
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

eu-west-1


export AWS_ACCESS_KEY_ID=AKIA42WJUBWK7TPNMBJH
export AWS_SECRET_ACCESS_KEY=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
export AWS_DEFAULT_REGION=eu-west-1
export AWS_AZ=eu-west-1a
export KOPS_STATE_STORE=s3://k8s-bucket-9808
export KOPS_CLUSTER_NAME=myfirstcluster.k8s.local



$env:KOPS_STATE_STORE = 's3://k8s-bucket-9808'

kops update cluster --name=myfirstcluster.k8s.local --yes


kops create cluster --yes --zones=$AWS_AZ --cloud=aws --ssh-public-key ~/.ssh/id_rsa.pub --kubernetes-version v1.23.9 --name=$KOPS_CLUSTER_NAME --state=$KOPS_STATE_STORE

kops create cluster --yes  \
    --zones=us-east-1a \
    --admin-access=<admin IPs> \
    --ssh-access=<admin IPs> \
    --cloud-labels=<labels> \
    --cloud=aws \
    --kubernetes-version v1.13.0 \
    --master-count=3 \
    --name=<cluster name> \
    --networking=calico \
    --node-count=<nr nodes> \
    --state=s3://<bucket>/<path> \

kops create cluster --yes --zones=$AWS_AZ --cloud=aws --ssh-public-key ~/.ssh/id_rsa.pub --kubernetes-version v1.23.9 --name=$KOPS_CLUSTER_NAME --state=$KOPS_STATE_STORE -o yaml > $KOPS_CLUSTER_NAME.yaml